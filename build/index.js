/*!
 * 
 *   gof-gpu v2.0.3
 *   https://github.com/silviopaganini/game-of-life-gpu
 *
 *   Copyright (c) Silvio Paganini (https://github.com/silviopaganini) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GameOfLifeGL=t():e.GameOfLifeGL=t()}(self,(function(){return(()=>{var e={6397:(e,t,r)=>{"use strict";var n="undefined"==typeof WeakMap?r(277):WeakMap,i=r(8580),a=r(4324),o=new n;e.exports=function(e){var t=o.get(e),r=t&&(t._triangleBuffer.handle||t._triangleBuffer.buffer);if(!r||!e.isBuffer(r)){var n=i(e,new Float32Array([-1,-1,-1,4,4,-1]));(t=a(e,[{buffer:n,type:e.FLOAT,size:2}]))._triangleBuffer=n,o.set(e,t)}t.bind(),e.drawArrays(e.TRIANGLES,0,3),t.unbind()}},3583:(e,t,r)=>{var n=r(7066);e.exports=function(e,t,r){t="number"==typeof t?t:1,r=r||": ";var i=e.split(/\r?\n/),a=String(i.length+t-1).length;return i.map((function(e,i){var o=i+t,s=String(o).length;return n(o,a-s)+r+e})).join("\n")}},3668:e=>{e.exports=function(e){return atob(e)}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=u(e),o=a[0],s=a[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),f=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[f++]=255&t);1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(l(e,s,s+o>u?u:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},746:(e,t)=>{"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var n=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(n),t.reverse=function(e){return n[255&e]<<24|n[e>>>8&255]<<16|n[e>>>16&255]<<8|n[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},8764:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const n=r(9742),i=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|d(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|g(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?s(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),s(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function g(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(i)return n?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===u)return n*o}else-1!==n&&(a-=a-n),n=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){let r=!0;for(let n=0;n<u;n++)if(l(e,a+n)!==l(t,n)){r=!1;break}if(r)return a}return-1}function b(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=t.length;let o;for(n>a/2&&(n=a/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if($(n))return o;e[r+o]=n}return o}function v(e,t,r,n){return q(z(t,e.length-r),e,r,n)}function A(e,t,r,n){return q(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function T(e,t,r,n){return q(Y(t),e,r,n)}function w(e,t,r,n){return q(function(e,t){let r,n,i;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,s,u;switch(o){case 1:t<128&&(a=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(a=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(a=u))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},u.allocUnsafe=function(e){return c(e)},u.allocUnsafeSlow=function(e){return c(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):E.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const s=Math.min(a,o),l=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<s;++e)if(l[e]!==f[e]){a=l[e],o=f[e];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n,i){G(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function P(e,t,r,n,i){G(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function F(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,a){return t=+t,r>>>=0,a||F(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,a){return t=+t,r>>>=0,a||F(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q((function(e){X(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(e){X(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q((function(e){X(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Q((function(e){X(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,a=1,o=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const a=u.isBuffer(e)?e:u.from(e,n),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%o]}return this};const k={};function j(e,t,r){k[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,n,i,a){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new k.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){X(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,a)}function X(e,t){if("number"!=typeof e)throw new k.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw X(e,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function z(e,t){let r;t=t||1/0;const n=e.length;let i=null;const a=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},6239:(e,t,r)=>{"use strict";var n=r(5081);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var o=r[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}},1984:(e,t,r)=>{"use strict";var n=r(8706);function i(e,t,r){var n,i,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],l=[],f=0,c=0;for(n=0;n<a;++n)l.push(["i",n,"=0"].join(""));for(i=0;i<o;++i)for(n=0;n<a;++n)c=f,f=e[n],0===n?l.push(["d",i,"s",n,"=t",i,"p",f].join("")):l.push(["d",i,"s",n,"=(t",i,"p",f,"-s",c,"*t",i,"p",c,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=a-1;n>=0;--n)f=e[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(c=f,f=e[n],i=0;i<o;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r){for(var n=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",f=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o);f=t.offsetArgs[c].array,l="+q"+c;case"array":l="p"+f+l;var h="l"+o,p="a"+f;if(0===t.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(i.push(["var ",h,"=",p,".get(",l,")"].join("")),n=n.replace(u,h),a.push([p,".set(",l,",",h,")"].join(""))):n=n.replace(u,[p,".get(",l,")"].join("")):n=n.replace(u,[p,"[",l,"]"].join("")):"generic"===r[f]?(i.push(["var ",h,"=",p,".get(",l,")"].join("")),n=n.replace(u,h),s.lvalue&&a.push([p,".set(",l,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",l,"]"].join("")),n=n.replace(u,h),s.lvalue&&a.push([p,"[",l,"]=",h].join("")));else{for(var g=[s.name],d=[l],E=0;E<Math.abs(t.arrayBlockIndices[f]);E++)g.push("\\s*\\[([^\\]]+)\\]"),d.push("$"+(E+1)+"*t"+f+"b"+E);if(u=new RegExp(g.join(""),"g"),l=d.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function o(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}e.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),l=0;l<e.arrayArgs.length;++l)u[l]=t[2*l],s[l]=t[2*l+1];var f=[],c=[],h=[],p=[],g=[];for(l=0;l<e.arrayArgs.length;++l){e.arrayBlockIndices[l]<0?(h.push(0),p.push(r),f.push(r),c.push(r+e.arrayBlockIndices[l])):(h.push(e.arrayBlockIndices[l]),p.push(e.arrayBlockIndices[l]+r),f.push(0),c.push(e.arrayBlockIndices[l]));for(var d=[],E=0;E<s[l].length;E++)h[l]<=s[l][E]&&s[l][E]<p[l]&&d.push(s[l][E]-h[l]);g.push(d)}var _=["SS"],y=["'use strict'"],m=[];for(E=0;E<r;++E)m.push(["s",E,"=SS[",E,"]"].join(""));for(l=0;l<e.arrayArgs.length;++l){_.push("a"+l),_.push("t"+l),_.push("p"+l);for(E=0;E<r;++E)m.push(["t",l,"p",E,"=t",l,"[",h[l]+E,"]"].join(""));for(E=0;E<Math.abs(e.arrayBlockIndices[l]);++E)m.push(["t",l,"b",E,"=t",l,"[",f[l]+E,"]"].join(""))}for(l=0;l<e.scalarArgs.length;++l)_.push("Y"+l);if(e.shapeArgs.length>0&&m.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(r);for(l=0;l<r;++l)b[l]="0";m.push(["index=[",b.join(","),"]"].join(""))}for(l=0;l<e.offsetArgs.length;++l){var v=e.offsetArgs[l],A=[];for(E=0;E<v.offset.length;++E)0!==v.offset[E]&&(1===v.offset[E]?A.push(["t",v.array,"p",E].join("")):A.push([v.offset[E],"*t",v.array,"p",E].join("")));0===A.length?m.push("q"+l+"=0"):m.push(["q",l,"=",A.join("+")].join(""))}var T=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((m=m.concat(T)).length>0&&y.push("var "+m.join(",")),l=0;l<e.arrayArgs.length;++l)y.push("p"+l+"|=0");e.pre.body.length>3&&y.push(a(e.pre,e,u));var w=a(e.body,e,u),S=function(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}(g);S<r?y.push(function(e,t,r,n){for(var a=t.length,o=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,l=[],f=0;f<o;++f)l.push(["var offset",f,"=p",f].join(""));for(f=e;f<a;++f)l.push(["for(var j"+f+"=SS[",t[f],"]|0;j",f,">0;){"].join("")),l.push(["if(j",f,"<",s,"){"].join("")),l.push(["s",t[f],"=j",f].join("")),l.push(["j",f,"=0"].join("")),l.push(["}else{s",t[f],"=",s].join("")),l.push(["j",f,"-=",s,"}"].join("")),u&&l.push(["index[",t[f],"]=j",f].join(""));for(f=0;f<o;++f){for(var c=["offset"+f],h=e;h<a;++h)c.push(["j",h,"*t",f,"p",t[h]].join(""));l.push(["p",f,"=(",c.join("+"),")"].join(""))}for(l.push(i(t,r,n)),f=e;f<a;++f)l.push("}");return l.join("\n")}(S,g[0],e,w)):y.push(i(g[0],e,w)),e.post.body.length>3&&y.push(a(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var R=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",S,o(u)].join("");return new Function(["function ",R,"(",_.join(","),"){",y.join("\n"),"} return ",R].join(""))()}},5081:(e,t,r)=>{"use strict";var n=r(1984);e.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],f=0;f<e.arrayArgs.length;++f){var c=e.arrayArgs[f];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),f>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[f]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[f])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),f=0;f<e.scalarArgs.length;++f)s.push("scalar"+e.scalarArgs[f]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},6615:(e,t,r)=>{"use strict";var n=r(7727),i=r(8706),a=0;function o(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function s(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}e.exports=function(e){for(var t=["(",e,")()"].join(""),u=n.parse(t,{range:!0}),l="_inline_"+a+++"_",f=function(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}(u),c=new Array(f.length),h=0;h<f.length;++h)c[h]=new o([l,"arg",h,"_"].join(""),!1,!1);for(var p=new Array(t.length),g=(h=0,t.length);h<g;++h)p[h]=t.charAt(h);var d,E=[],_=[];function y(e,t){for(var r=e.range[0],n=e.range[1],i=r+1;i<n;++i)p[i]="";p[r]=t}return function e(t,n){if(t.parent=n,"MemberExpression"===t.type)t.computed?(e(t.object,t),e(t.property,t)):"ThisExpression"===t.object.type?y(t,(m=t.property.name,b="this_"+m.replace(/\_/g,"__"),_.push(b),b)):e(t.object,t);else{if("ThisExpression"===t.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===t.type){var i=t.name,a=f.indexOf(i);if(a>=0){var o=c[a],s=function(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?1:3:"UpdateExpression"===e.parent.type?3:2}(t);1&s&&(o.lvalue=!0),2&s&&(o.rvalue=!0),++o.count,y(t,o.name)}else(function(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:void 0!==r.g?e in r.g:"undefined"!=typeof self&&e in self})(i)||y(t,function(e){var t=l+e.replace(/\_/g,"__");return E.push(t),t}(i))}else if("Literal"===t.type)"string"==typeof t.value&&y(t,"'"+t.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===t.type)throw new Error("cwise-parser: with() statements not allowed");for(var u=Object.keys(t),h=0,p=u.length;h<p;++h)if("parent"!==u[h]){var g=t[u[h]];if(g)if(g instanceof Array)for(var d=0;d<g.length;++d)g[d]&&"string"==typeof g[d].type&&e(g[d],t);else"string"==typeof g.type&&e(g,t)}}}var m,b}(u.body[0].expression.callee.body,void 0),i(E),i(_),new s((d=u.body[0].expression.callee.body,p.slice(d.range[0],d.range[1]).join("")),c,_,E)}},7727:function(e,t){var r,n,i;!function(a,o){"use strict";n=[t],void 0===(i="function"==typeof(r=function(e){var t,r,n,i,a,o,s,u,l,f,c,h,p,g,d,E,_,y;function m(e,t){if(!e)throw new Error("ASSERT: "+t)}function b(e){return e>=48&&e<=57}function v(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function A(e){return"01234567".indexOf(e)>=0}function T(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function w(e){return 10===e||13===e||8232===e||8233===e}function S(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function R(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function I(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function x(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function N(e){return"eval"===e||"arguments"===e}function U(e){if(f&&x(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function C(e,t,r,n,i){var a;m("number"==typeof r,"Comment must have valid position"),_.lastCommentStart>=r||(_.lastCommentStart=r,a={type:e,value:t},y.range&&(a.range=[r,n]),y.loc&&(a.loc=i),y.comments.push(a),y.attachComment&&(y.leadingComments.push(a),y.trailingComments.push(a)))}function L(e){var t,r,n,i;for(t=c-e,r={start:{line:h,column:c-p-e}};c<g;)if(n=l.charCodeAt(c),++c,w(n))return y.comments&&(i=l.slice(t+e,c-1),r.end={line:h,column:c-p-1},C("Line",i,t,c-1,r)),13===n&&10===l.charCodeAt(c)&&++c,++h,void(p=c);y.comments&&(i=l.slice(t+e,c),r.end={line:h,column:c-p},C("Line",i,t,c,r))}function O(){var e,t,r,n;for(y.comments&&(e=c-2,t={start:{line:h,column:c-p-2}});c<g;)if(w(r=l.charCodeAt(c)))13===r&&10===l.charCodeAt(c+1)&&++c,++h,++c,p=c,c>=g&&ae({},o.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===l.charCodeAt(c+1))return++c,++c,void(y.comments&&(n=l.slice(e+2,c-2),t.end={line:h,column:c-p},C("Block",n,e,c,t)));++c}else++c;ae({},o.UnexpectedToken,"ILLEGAL")}function B(){var e,t;for(t=0===c;c<g;)if(T(e=l.charCodeAt(c)))++c;else if(w(e))++c,13===e&&10===l.charCodeAt(c)&&++c,++h,p=c,t=!0;else if(47===e)if(47===(e=l.charCodeAt(c+1)))++c,++c,L(2),t=!0;else{if(42!==e)break;++c,++c,O()}else if(t&&45===e){if(45!==l.charCodeAt(c+1)||62!==l.charCodeAt(c+2))break;c+=3,L(3)}else{if(60!==e)break;if("!--"!==l.slice(c+1,c+4))break;++c,++c,++c,++c,L(4)}}function P(e){var t,r,n,i=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(c<g&&v(l[c])))return"";n=l[c++],i=16*i+"0123456789abcdef".indexOf(n.toLowerCase())}return String.fromCharCode(i)}function F(){var e,t;for(e=l.charCodeAt(c++),t=String.fromCharCode(e),92===e&&(117!==l.charCodeAt(c)&&ae({},o.UnexpectedToken,"ILLEGAL"),++c,(e=P("u"))&&"\\"!==e&&S(e.charCodeAt(0))||ae({},o.UnexpectedToken,"ILLEGAL"),t=e);c<g&&R(e=l.charCodeAt(c));)++c,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==l.charCodeAt(c)&&ae({},o.UnexpectedToken,"ILLEGAL"),++c,(e=P("u"))&&"\\"!==e&&R(e.charCodeAt(0))||ae({},o.UnexpectedToken,"ILLEGAL"),t+=e);return t}function M(){var e,t;for(e=c++;c<g;){if(92===(t=l.charCodeAt(c)))return c=e,F();if(!R(t))break;++c}return l.slice(e,c)}function D(){var e,r;return e=c,{type:1===(r=92===l.charCodeAt(c)?F():M()).length?t.Identifier:U(r)?t.Keyword:"null"===r?t.NullLiteral:"true"===r||"false"===r?t.BooleanLiteral:t.Identifier,value:r,lineNumber:h,lineStart:p,start:e,end:c}}function k(){var e,r,n,i,a=c,s=l.charCodeAt(c),u=l[c];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++c,y.tokenize&&(40===s?y.openParenToken=y.tokens.length:123===s&&(y.openCurlyToken=y.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(s),lineNumber:h,lineStart:p,start:a,end:c};default:if(61===(e=l.charCodeAt(c+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return c+=2,{type:t.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(e),lineNumber:h,lineStart:p,start:a,end:c};case 33:case 61:return c+=2,61===l.charCodeAt(c)&&++c,{type:t.Punctuator,value:l.slice(a,c),lineNumber:h,lineStart:p,start:a,end:c}}}return">>>="===(i=l.substr(c,4))?(c+=4,{type:t.Punctuator,value:i,lineNumber:h,lineStart:p,start:a,end:c}):">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?(c+=3,{type:t.Punctuator,value:n,lineNumber:h,lineStart:p,start:a,end:c}):u===(r=n.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===r?(c+=2,{type:t.Punctuator,value:r,lineNumber:h,lineStart:p,start:a,end:c}):"<>=!+-*%&|^/".indexOf(u)>=0?(++c,{type:t.Punctuator,value:u,lineNumber:h,lineStart:p,start:a,end:c}):void ae({},o.UnexpectedToken,"ILLEGAL")}function j(e){for(var r="";c<g&&v(l[c]);)r+=l[c++];return 0===r.length&&ae({},o.UnexpectedToken,"ILLEGAL"),S(l.charCodeAt(c))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+r,16),lineNumber:h,lineStart:p,start:e,end:c}}function V(e){for(var r="0"+l[c++];c<g&&A(l[c]);)r+=l[c++];return(S(l.charCodeAt(c))||b(l.charCodeAt(c)))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(r,8),octal:!0,lineNumber:h,lineStart:p,start:e,end:c}}function G(){var e,t;for(e=c+1;e<g;++e){if("8"===(t=l[e])||"9"===t)return!1;if(!A(t))return!0}return!0}function X(){var e,r,n;if(m(b((n=l[c]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),r=c,e="","."!==n){if(e=l[c++],n=l[c],"0"===e){if("x"===n||"X"===n)return++c,j(r);if(A(n)&&G())return V(r)}for(;b(l.charCodeAt(c));)e+=l[c++];n=l[c]}if("."===n){for(e+=l[c++];b(l.charCodeAt(c));)e+=l[c++];n=l[c]}if("e"===n||"E"===n)if(e+=l[c++],"+"!==(n=l[c])&&"-"!==n||(e+=l[c++]),b(l.charCodeAt(c)))for(;b(l.charCodeAt(c));)e+=l[c++];else ae({},o.UnexpectedToken,"ILLEGAL");return S(l.charCodeAt(c))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:p,start:r,end:c}}function H(){var e,r,n,i,a,s,u,f,d="",E=!1;for(u=h,f=p,m("'"===(e=l[c])||'"'===e,"String literal must starts with a quote"),r=c,++c;c<g;){if((n=l[c++])===e){e="";break}if("\\"===n)if((n=l[c++])&&w(n.charCodeAt(0)))++h,"\r"===n&&"\n"===l[c]&&++c,p=c;else switch(n){case"u":case"x":s=c,(a=P(n))?d+=a:(c=s,d+=n);break;case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;default:A(n)?(0!==(i="01234567".indexOf(n))&&(E=!0),c<g&&A(l[c])&&(E=!0,i=8*i+"01234567".indexOf(l[c++]),"0123".indexOf(n)>=0&&c<g&&A(l[c])&&(i=8*i+"01234567".indexOf(l[c++]))),d+=String.fromCharCode(i)):d+=n}else{if(w(n.charCodeAt(0)))break;d+=n}}return""!==e&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:d,octal:E,startLineNumber:u,startLineStart:f,lineNumber:h,lineStart:p,start:r,end:c}}function W(e,t){var r;try{r=new RegExp(e,t)}catch(e){ae({},o.InvalidRegExp)}return r}function z(){var e,t,r,n;for(m("/"===(e=l[c]),"Regular expression literal must start with a slash"),t=l[c++],r=!1,n=!1;c<g;)if(t+=e=l[c++],"\\"===e)w((e=l[c++]).charCodeAt(0))&&ae({},o.UnterminatedRegExp),t+=e;else if(w(e.charCodeAt(0)))ae({},o.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){n=!0;break}"["===e&&(r=!0)}return n||ae({},o.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}function Y(){var e,t,r,n;for(t="",r="";c<g&&R((e=l[c]).charCodeAt(0));)if(++c,"\\"===e&&c<g)if("u"===(e=l[c])){if(n=++c,e=P("u"))for(r+=e,t+="\\u";n<c;++n)t+=l[n];else c=n,r+="u",t+="\\u";oe({},o.UnexpectedToken,"ILLEGAL")}else t+="\\",oe({},o.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}function q(){var e,r,n,i;return E=null,B(),e=c,r=z(),n=Y(),i=W(r.value,n.value),y.tokenize?{type:t.RegularExpression,value:i,lineNumber:h,lineStart:p,start:e,end:c}:{literal:r.literal+n.literal,value:i,start:e,end:c}}function K(){var e,t,r,n;return B(),e=c,t={start:{line:h,column:c-p}},r=q(),t.end={line:h,column:c-p},y.tokenize||(y.tokens.length>0&&(n=y.tokens[y.tokens.length-1]).range[0]===e&&"Punctuator"===n.type&&("/"!==n.value&&"/="!==n.value||y.tokens.pop()),y.tokens.push({type:"RegularExpression",value:r.literal,range:[e,c],loc:t})),r}function $(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function Z(){var e,t;if(!(e=y.tokens[y.tokens.length-1]))return K();if("Punctuator"===e.type){if("]"===e.value)return k();if(")"===e.value)return!(t=y.tokens[y.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?k():K();if("}"===e.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(!(t=y.tokens[y.openCurlyToken-4]))return k()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return k();if(!(t=y.tokens[y.openCurlyToken-5]))return K()}return n.indexOf(t.value)>=0?k():K()}return K()}return"Keyword"===e.type&&"this"!==e.value?K():k()}function Q(){var e;return B(),c>=g?{type:t.EOF,lineNumber:h,lineStart:p,start:c,end:c}:S(e=l.charCodeAt(c))?D():40===e||41===e||59===e?k():39===e||34===e?H():46===e?b(l.charCodeAt(c+1))?X():k():b(e)?X():y.tokenize&&47===e?Z():k()}function J(){var e,n,i;return B(),e={start:{line:h,column:c-p}},n=Q(),e.end={line:h,column:c-p},n.type!==t.EOF&&(i=l.slice(n.start,n.end),y.tokens.push({type:r[n.type],value:i,range:[n.start,n.end],loc:e})),n}function ee(){var e;return c=(e=E).end,h=e.lineNumber,p=e.lineStart,E=void 0!==y.tokens?J():Q(),c=e.end,h=e.lineNumber,p=e.lineStart,e}function te(){var e,t,r;e=c,t=h,r=p,E=void 0!==y.tokens?J():Q(),c=e,h=t,p=r}function re(e,t){this.line=e,this.column=t}function ne(e,t,r,n){this.start=new re(e,t),this.end=new re(r,n)}function ie(){var e,t,r,n;return e=c,t=h,r=p,B(),n=h!==t,c=e,h=t,p=r,n}function ae(e,t){var r,n=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return m(t<n.length,"Message reference must be in range"),n[t]}));throw"number"==typeof e.lineNumber?((r=new Error("Line "+e.lineNumber+": "+i)).index=e.start,r.lineNumber=e.lineNumber,r.column=e.start-p+1):((r=new Error("Line "+h+": "+i)).index=c,r.lineNumber=h,r.column=c-p+1),r.description=i,r}function oe(){try{ae.apply(null,arguments)}catch(e){if(!y.errors)throw e;y.errors.push(e)}}function se(e){if(e.type===t.EOF&&ae(e,o.UnexpectedEOS),e.type===t.NumericLiteral&&ae(e,o.UnexpectedNumber),e.type===t.StringLiteral&&ae(e,o.UnexpectedString),e.type===t.Identifier&&ae(e,o.UnexpectedIdentifier),e.type===t.Keyword){if(I(e.value))ae(e,o.UnexpectedReserved);else if(f&&x(e.value))return void oe(e,o.StrictReservedWord);ae(e,o.UnexpectedToken,e.value)}ae(e,o.UnexpectedToken,e.value)}function ue(e){var r=ee();r.type===t.Punctuator&&r.value===e||se(r)}function le(e){var r=ee();r.type===t.Keyword&&r.value===e||se(r)}function fe(e){return E.type===t.Punctuator&&E.value===e}function ce(e){return E.type===t.Keyword&&E.value===e}function he(){var e;return E.type===t.Punctuator&&("="===(e=E.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function pe(){var e,r=c,n=h,i=p,a=E;if(59===l.charCodeAt(c)||fe(";"))ee();else{if(e=h,B(),h!==e)return c=r,h=n,p=i,void(E=a);E.type===t.EOF||fe("}")||se(E)}}function ge(e){return e.type===i.Identifier||e.type===i.MemberExpression}function de(){var e,t=[];for(e=E,ue("[");!fe("]");)fe(",")?(ee(),t.push(null)):(t.push(Be()),fe("]")||ue(","));return ee(),d.markEnd(d.createArrayExpression(t),e)}function Ee(e,t){var r,n,i;return r=f,i=E,n=st(),t&&f&&N(e[0].name)&&oe(t,o.StrictParamName),f=r,d.markEnd(d.createFunctionExpression(null,e,[],n),i)}function _e(){var e,r;return r=E,(e=ee()).type===t.StringLiteral||e.type===t.NumericLiteral?(f&&e.octal&&oe(e,o.StrictOctalLiteral),d.markEnd(d.createLiteral(e),r)):d.markEnd(d.createIdentifier(e.value),r)}function ye(){var e,r,n,i,a,s;return s=E,(e=E).type===t.Identifier?(n=_e(),"get"!==e.value||fe(":")?"set"!==e.value||fe(":")?(ue(":"),i=Be(),d.markEnd(d.createProperty("init",n,i),s)):(r=_e(),ue("("),(e=E).type!==t.Identifier?(ue(")"),oe(e,o.UnexpectedToken,e.value),i=Ee([])):(a=[De()],ue(")"),i=Ee(a,e)),d.markEnd(d.createProperty("set",r,i),s)):(r=_e(),ue("("),ue(")"),i=Ee([]),d.markEnd(d.createProperty("get",r,i),s))):e.type!==t.EOF&&e.type!==t.Punctuator?(r=_e(),ue(":"),i=Be(),d.markEnd(d.createProperty("init",r,i),s)):void se(e)}function me(){var e,t,r,n,s,u=[],l={},c=String;for(s=E,ue("{");!fe("}");)t=(e=ye()).key.type===i.Identifier?e.key.name:c(e.key.value),n="init"===e.kind?a.Data:"get"===e.kind?a.Get:a.Set,r="$"+t,Object.prototype.hasOwnProperty.call(l,r)?(l[r]===a.Data?f&&n===a.Data?oe({},o.StrictDuplicateProperty):n!==a.Data&&oe({},o.AccessorDataProperty):n===a.Data?oe({},o.AccessorDataProperty):l[r]&n&&oe({},o.AccessorGetSet),l[r]|=n):l[r]=n,u.push(e),fe("}")||ue(",");return ue("}"),d.markEnd(d.createObjectExpression(u),s)}function be(){var e;return ue("("),e=Pe(),ue(")"),e}function ve(){var e,r,n,i;if(fe("("))return be();if(fe("["))return de();if(fe("{"))return me();if(e=E.type,i=E,e===t.Identifier)n=d.createIdentifier(ee().value);else if(e===t.StringLiteral||e===t.NumericLiteral)f&&E.octal&&oe(E,o.StrictOctalLiteral),n=d.createLiteral(ee());else if(e===t.Keyword){if(ce("function"))return ft();ce("this")?(ee(),n=d.createThisExpression()):se(ee())}else e===t.BooleanLiteral?((r=ee()).value="true"===r.value,n=d.createLiteral(r)):e===t.NullLiteral?((r=ee()).value=null,n=d.createLiteral(r)):fe("/")||fe("/=")?(n=void 0!==y.tokens?d.createLiteral(K()):d.createLiteral(q()),te()):se(ee());return d.markEnd(n,i)}function Ae(){var e=[];if(ue("("),!fe(")"))for(;c<g&&(e.push(Be()),!fe(")"));)ue(",");return ue(")"),e}function Te(){var e,t;return t=E,$(e=ee())||se(e),d.markEnd(d.createIdentifier(e.value),t)}function we(){return ue("."),Te()}function Se(){var e;return ue("["),e=Pe(),ue("]"),e}function Re(){var e,t,r;return r=E,le("new"),e=xe(),t=fe("(")?Ae():[],d.markEnd(d.createNewExpression(e,t),r)}function Ie(){var e,t,r,n,i=_.allowIn;for(n=E,_.allowIn=!0,e=ce("new")?Re():ve();;){if(fe("."))r=we(),e=d.createMemberExpression(".",e,r);else if(fe("("))t=Ae(),e=d.createCallExpression(e,t);else{if(!fe("["))break;r=Se(),e=d.createMemberExpression("[",e,r)}d.markEnd(e,n)}return _.allowIn=i,e}function xe(){var e,t,r;for(m(_.allowIn,"callee of new expression always allow in keyword."),r=E,e=ce("new")?Re():ve();fe(".")||fe("[");)fe("[")?(t=Se(),e=d.createMemberExpression("[",e,t)):(t=we(),e=d.createMemberExpression(".",e,t)),d.markEnd(e,r);return e}function Ne(){var e,r,n=E;return e=Ie(),E.type===t.Punctuator&&(!fe("++")&&!fe("--")||ie()||(f&&e.type===i.Identifier&&N(e.name)&&oe({},o.StrictLHSPostfix),ge(e)||oe({},o.InvalidLHSInAssignment),r=ee(),e=d.markEnd(d.createPostfixExpression(r.value,e),n))),e}function Ue(){var e,r,n;return E.type!==t.Punctuator&&E.type!==t.Keyword?r=Ne():fe("++")||fe("--")?(n=E,e=ee(),r=Ue(),f&&r.type===i.Identifier&&N(r.name)&&oe({},o.StrictLHSPrefix),ge(r)||oe({},o.InvalidLHSInAssignment),r=d.createUnaryExpression(e.value,r),r=d.markEnd(r,n)):fe("+")||fe("-")||fe("~")||fe("!")?(n=E,e=ee(),r=Ue(),r=d.createUnaryExpression(e.value,r),r=d.markEnd(r,n)):ce("delete")||ce("void")||ce("typeof")?(n=E,e=ee(),r=Ue(),r=d.createUnaryExpression(e.value,r),r=d.markEnd(r,n),f&&"delete"===r.operator&&r.argument.type===i.Identifier&&oe({},o.StrictDelete)):r=Ne(),r}function Ce(e,r){var n=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=r?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function Le(){var e,t,r,n,i,a,o,s,u,l;if(e=E,u=Ue(),0===(i=Ce(n=E,_.allowIn)))return u;for(n.prec=i,ee(),t=[e,E],a=[u,n,o=Ue()];(i=Ce(E,_.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),r=d.createBinaryExpression(s,u,o),t.pop(),e=t[t.length-1],d.markEnd(r,e),a.push(r);(n=ee()).prec=i,a.push(n),t.push(E),r=Ue(),a.push(r)}for(r=a[l=a.length-1],t.pop();l>1;)r=d.createBinaryExpression(a[l-1].value,a[l-2],r),l-=2,e=t.pop(),d.markEnd(r,e);return r}function Oe(){var e,t,r,n,i;return i=E,e=Le(),fe("?")&&(ee(),t=_.allowIn,_.allowIn=!0,r=Be(),_.allowIn=t,ue(":"),n=Be(),e=d.createConditionalExpression(e,r,n),d.markEnd(e,i)),e}function Be(){var e,t,r,n,a;return e=E,a=E,n=t=Oe(),he()&&(ge(t)||oe({},o.InvalidLHSInAssignment),f&&t.type===i.Identifier&&N(t.name)&&oe(e,o.StrictLHSAssignment),e=ee(),r=Be(),n=d.markEnd(d.createAssignmentExpression(e.value,t,r),a)),n}function Pe(){var e,t=E;if(e=Be(),fe(",")){for(e=d.createSequenceExpression([e]);c<g&&fe(",");)ee(),e.expressions.push(Be());d.markEnd(e,t)}return e}function Fe(){for(var e,t=[];c<g&&!fe("}")&&void 0!==(e=ct());)t.push(e);return t}function Me(){var e,t;return t=E,ue("{"),e=Fe(),ue("}"),d.markEnd(d.createBlockStatement(e),t)}function De(){var e,r;return r=E,(e=ee()).type!==t.Identifier&&se(e),d.markEnd(d.createIdentifier(e.value),r)}function ke(e){var t,r,n=null;return r=E,t=De(),f&&N(t.name)&&oe({},o.StrictVarName),"const"===e?(ue("="),n=Be()):fe("=")&&(ee(),n=Be()),d.markEnd(d.createVariableDeclarator(t,n),r)}function je(e){var t=[];do{if(t.push(ke(e)),!fe(","))break;ee()}while(c<g);return t}function Ve(){var e;return le("var"),e=je(),pe(),d.createVariableDeclaration(e,"var")}function Ge(e){var t,r;return r=E,le(e),t=je(e),pe(),d.markEnd(d.createVariableDeclaration(t,e),r)}function Xe(){return ue(";"),d.createEmptyStatement()}function He(){var e=Pe();return pe(),d.createExpressionStatement(e)}function We(){var e,t,r;return le("if"),ue("("),e=Pe(),ue(")"),t=ot(),ce("else")?(ee(),r=ot()):r=null,d.createIfStatement(e,t,r)}function ze(){var e,t,r;return le("do"),r=_.inIteration,_.inIteration=!0,e=ot(),_.inIteration=r,le("while"),ue("("),t=Pe(),ue(")"),fe(";")&&ee(),d.createDoWhileStatement(e,t)}function Ye(){var e,t,r;return le("while"),ue("("),e=Pe(),ue(")"),r=_.inIteration,_.inIteration=!0,t=ot(),_.inIteration=r,d.createWhileStatement(e,t)}function qe(){var e,t,r;return r=E,e=ee(),t=je(),d.markEnd(d.createVariableDeclaration(t,e.value),r)}function Ke(){var e,t,r,n,i,a,s,u=_.allowIn;return e=t=r=null,le("for"),ue("("),fe(";")?ee():(ce("var")||ce("let")?(_.allowIn=!1,e=qe(),_.allowIn=u,1===e.declarations.length&&ce("in")&&(ee(),n=e,i=Pe(),e=null)):(_.allowIn=!1,e=Pe(),_.allowIn=u,ce("in")&&(ge(e)||oe({},o.InvalidLHSInForIn),ee(),n=e,i=Pe(),e=null)),void 0===n&&ue(";")),void 0===n&&(fe(";")||(t=Pe()),ue(";"),fe(")")||(r=Pe())),ue(")"),s=_.inIteration,_.inIteration=!0,a=ot(),_.inIteration=s,void 0===n?d.createForStatement(e,t,r,a):d.createForInStatement(n,i,a)}function $e(){var e,r=null;return le("continue"),59===l.charCodeAt(c)?(ee(),_.inIteration||ae({},o.IllegalContinue),d.createContinueStatement(null)):ie()?(_.inIteration||ae({},o.IllegalContinue),d.createContinueStatement(null)):(E.type===t.Identifier&&(e="$"+(r=De()).name,Object.prototype.hasOwnProperty.call(_.labelSet,e)||ae({},o.UnknownLabel,r.name)),pe(),null!==r||_.inIteration||ae({},o.IllegalContinue),d.createContinueStatement(r))}function Ze(){var e,r=null;return le("break"),59===l.charCodeAt(c)?(ee(),_.inIteration||_.inSwitch||ae({},o.IllegalBreak),d.createBreakStatement(null)):ie()?(_.inIteration||_.inSwitch||ae({},o.IllegalBreak),d.createBreakStatement(null)):(E.type===t.Identifier&&(e="$"+(r=De()).name,Object.prototype.hasOwnProperty.call(_.labelSet,e)||ae({},o.UnknownLabel,r.name)),pe(),null!==r||_.inIteration||_.inSwitch||ae({},o.IllegalBreak),d.createBreakStatement(r))}function Qe(){var e=null;return le("return"),_.inFunctionBody||oe({},o.IllegalReturn),32===l.charCodeAt(c)&&S(l.charCodeAt(c+1))?(e=Pe(),pe(),d.createReturnStatement(e)):ie()?d.createReturnStatement(null):(fe(";")||fe("}")||E.type===t.EOF||(e=Pe()),pe(),d.createReturnStatement(e))}function Je(){var e,t;return f&&(B(),oe({},o.StrictModeWith)),le("with"),ue("("),e=Pe(),ue(")"),t=ot(),d.createWithStatement(e,t)}function et(){var e,t,r,n=[];for(r=E,ce("default")?(ee(),e=null):(le("case"),e=Pe()),ue(":");c<g&&!(fe("}")||ce("default")||ce("case"));)t=ot(),n.push(t);return d.markEnd(d.createSwitchCase(e,n),r)}function tt(){var e,t,r,n,i;if(le("switch"),ue("("),e=Pe(),ue(")"),ue("{"),t=[],fe("}"))return ee(),d.createSwitchStatement(e,t);for(n=_.inSwitch,_.inSwitch=!0,i=!1;c<g&&!fe("}");)null===(r=et()).test&&(i&&ae({},o.MultipleDefaultsInSwitch),i=!0),t.push(r);return _.inSwitch=n,ue("}"),d.createSwitchStatement(e,t)}function rt(){var e;return le("throw"),ie()&&ae({},o.NewlineAfterThrow),e=Pe(),pe(),d.createThrowStatement(e)}function nt(){var e,t,r;return r=E,le("catch"),ue("("),fe(")")&&se(E),e=De(),f&&N(e.name)&&oe({},o.StrictCatchVariable),ue(")"),t=Me(),d.markEnd(d.createCatchClause(e,t),r)}function it(){var e,t=[],r=null;return le("try"),e=Me(),ce("catch")&&t.push(nt()),ce("finally")&&(ee(),r=Me()),0!==t.length||r||ae({},o.NoCatchOrFinally),d.createTryStatement(e,[],t,r)}function at(){return le("debugger"),pe(),d.createDebuggerStatement()}function ot(){var e,r,n,a,s=E.type;if(s===t.EOF&&se(E),s===t.Punctuator&&"{"===E.value)return Me();if(a=E,s===t.Punctuator)switch(E.value){case";":return d.markEnd(Xe(),a);case"(":return d.markEnd(He(),a)}if(s===t.Keyword)switch(E.value){case"break":return d.markEnd(Ze(),a);case"continue":return d.markEnd($e(),a);case"debugger":return d.markEnd(at(),a);case"do":return d.markEnd(ze(),a);case"for":return d.markEnd(Ke(),a);case"function":return d.markEnd(lt(),a);case"if":return d.markEnd(We(),a);case"return":return d.markEnd(Qe(),a);case"switch":return d.markEnd(tt(),a);case"throw":return d.markEnd(rt(),a);case"try":return d.markEnd(it(),a);case"var":return d.markEnd(Ve(),a);case"while":return d.markEnd(Ye(),a);case"with":return d.markEnd(Je(),a)}return(e=Pe()).type===i.Identifier&&fe(":")?(ee(),n="$"+e.name,Object.prototype.hasOwnProperty.call(_.labelSet,n)&&ae({},o.Redeclaration,"Label",e.name),_.labelSet[n]=!0,r=ot(),delete _.labelSet[n],d.markEnd(d.createLabeledStatement(e,r),a)):(pe(),d.markEnd(d.createExpressionStatement(e),a))}function st(){var e,r,n,a,s,u,h,p,y=[];for(p=E,ue("{");c<g&&E.type===t.StringLiteral&&(r=E,e=ct(),y.push(e),e.expression.type===i.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(f=!0,n&&oe(n,o.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(a=_.labelSet,s=_.inIteration,u=_.inSwitch,h=_.inFunctionBody,_.labelSet={},_.inIteration=!1,_.inSwitch=!1,_.inFunctionBody=!0;c<g&&!fe("}")&&void 0!==(e=ct());)y.push(e);return ue("}"),_.labelSet=a,_.inIteration=s,_.inSwitch=u,_.inFunctionBody=h,d.markEnd(d.createBlockStatement(y),p)}function ut(e){var t,r,n,i,a,s,u=[];if(ue("("),!fe(")"))for(i={};c<g&&(r=E,t=De(),a="$"+r.value,f?(N(r.value)&&(n=r,s=o.StrictParamName),Object.prototype.hasOwnProperty.call(i,a)&&(n=r,s=o.StrictParamDupe)):e||(N(r.value)?(e=r,s=o.StrictParamName):x(r.value)?(e=r,s=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,a)&&(e=r,s=o.StrictParamDupe)),u.push(t),i[a]=!0,!fe(")"));)ue(",");return ue(")"),{params:u,stricted:n,firstRestricted:e,message:s}}function lt(){var e,t,r,n,i,a,s,u,l,c=[];return l=E,le("function"),r=E,e=De(),f?N(r.value)&&oe(r,o.StrictFunctionName):N(r.value)?(a=r,s=o.StrictFunctionName):x(r.value)&&(a=r,s=o.StrictReservedWord),c=(i=ut(a)).params,n=i.stricted,a=i.firstRestricted,i.message&&(s=i.message),u=f,t=st(),f&&a&&ae(a,s),f&&n&&oe(n,s),f=u,d.markEnd(d.createFunctionDeclaration(e,c,[],t),l)}function ft(){var e,t,r,n,i,a,s,u,l=null,c=[];return u=E,le("function"),fe("(")||(e=E,l=De(),f?N(e.value)&&oe(e,o.StrictFunctionName):N(e.value)?(r=e,n=o.StrictFunctionName):x(e.value)&&(r=e,n=o.StrictReservedWord)),c=(i=ut(r)).params,t=i.stricted,r=i.firstRestricted,i.message&&(n=i.message),s=f,a=st(),f&&r&&ae(r,n),f&&t&&oe(t,n),f=s,d.markEnd(d.createFunctionExpression(l,c,[],a),u)}function ct(){if(E.type===t.Keyword)switch(E.value){case"const":case"let":return Ge(E.value);case"function":return lt();default:return ot()}if(E.type!==t.EOF)return ot()}function ht(){for(var e,r,n,a=[];c<g&&(r=E).type===t.StringLiteral&&(e=ct(),a.push(e),e.expression.type===i.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(f=!0,n&&oe(n,o.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(;c<g&&void 0!==(e=ct());)a.push(e);return a}function pt(){var e,t;return B(),te(),t=E,f=!1,e=ht(),d.markEnd(d.createProgram(e),t)}function gt(){var e,t,r,n=[];for(e=0;e<y.tokens.length;++e)r={type:(t=y.tokens[e]).type,value:t.value},y.range&&(r.range=t.range),y.loc&&(r.loc=t.loc),n.push(r);y.tokens=n}function dt(e,r){var n;"string"==typeof e||e instanceof String||(e=String(e)),d=u,c=0,h=(l=e).length>0?1:0,p=0,g=l.length,E=null,_={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},(r=r||{}).tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"==typeof r.range&&r.range,y.loc="boolean"==typeof r.loc&&r.loc,"boolean"==typeof r.comment&&r.comment&&(y.comments=[]),"boolean"==typeof r.tolerant&&r.tolerant&&(y.errors=[]);try{if(te(),E.type===t.EOF)return y.tokens;for(ee();E.type!==t.EOF;)try{ee()}catch(e){if(E,y.errors){y.errors.push(e);break}throw e}gt(),n=y.tokens,void 0!==y.comments&&(n.comments=y.comments),void 0!==y.errors&&(n.errors=y.errors)}catch(e){throw e}finally{y={}}return n}function Et(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),d=u,c=0,h=(l=e).length>0?1:0,p=0,g=l.length,E=null,_={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},void 0!==t&&(y.range="boolean"==typeof t.range&&t.range,y.loc="boolean"==typeof t.loc&&t.loc,y.attachComment="boolean"==typeof t.attachComment&&t.attachComment,y.loc&&null!==t.source&&void 0!==t.source&&(y.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(y.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(y.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{r=pt(),void 0!==y.comments&&(r.comments=y.comments),void 0!==y.tokens&&(gt(),r.tokens=y.tokens),void 0!==y.errors&&(r.errors=y.errors)}catch(e){throw e}finally{y={}}return r}(r={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",r[t.EOF]="<end>",r[t.Identifier]="Identifier",r[t.Keyword]="Keyword",r[t.NullLiteral]="Null",r[t.NumericLiteral]="Numeric",r[t.Punctuator]="Punctuator",r[t.StringLiteral]="String",r[t.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},a={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},u={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===i.Program&&e.body.length>0)){for(y.trailingComments.length>0?y.trailingComments[0].range[0]>=e.range[1]?(r=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=e.range[0];)t=y.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=y.leadingComments,y.leadingComments=[]),r&&(e.trailingComments=r),y.bottomRightStack.push(e)}},markEnd:function(e,t){return y.range&&(e.range=[t.start,c]),y.loc&&(e.loc=new ne(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),h,c-p),this.postProcess(e)),y.attachComment&&this.processComment(e),e},postProcess:function(e){return y.source&&(e.loc.source=y.source),e},createArrayExpression:function(e){return{type:i.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:i.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){return{type:"||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:i.BlockStatement,body:e}},createBreakStatement:function(e){return{type:i.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:i.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:i.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:i.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:i.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:i.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(e){return{type:i.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:i.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:i.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:i.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:i.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:i.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:i.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:i.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:i.Literal,value:e.value,raw:l.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:i.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:i.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:i.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:i.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:i.Program,body:e}},createProperty:function(e,t,r){return{type:i.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:i.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:i.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:i.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:i.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(e){return{type:i.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:i.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:i.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:i.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:i.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:i.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:i.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:i.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=dt,e.parse=Et,e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})?r.apply(t,n):r)||(e.exports=i)}()},6780:(e,t,r)=>{"use strict";var n=r(6615),i=r(6239),a=["args","body"],o=["pre","post","printCode","funcName","blockSize"];e.exports=function(e){for(var t in e)a.indexOf(t)<0&&o.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<a.length;++r)if(!e[a[r]])throw new Error("cwise: Missing argument: "+a[r]);return i({args:e.args,pre:n(e.pre||function(){}),body:n(e.body),post:n(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}},6841:e=>{"use strict";function t(e,r,n){var i=0|e[n];if(i<=0)return[];var a,o=new Array(i);if(n===e.length-1)for(a=0;a<i;++a)o[a]=r;else for(a=0;a<i;++a)o[a]=t(e,r,n+1);return o}e.exports=function(e,r){switch(void 0===r&&(r=0),typeof e){case"number":if(e>0)return function(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}(0|e,r);break;case"object":if("number"==typeof e.length)return t(e,r,0)}return[]}},8580:(e,t,r)=>{"use strict";var n=r(316),i=r(8897),a=r(2861),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(e,t,r,n,i){this.gl=e,this.type=t,this.handle=r,this.length=n,this.usage=i}var u=s.prototype;function l(e,t,r,n,i,a){var o=i.length*i.BYTES_PER_ELEMENT;if(a<0)return e.bufferData(t,i,n),o;if(o+a>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,a,i),r}function f(e,t){for(var r=n.malloc(e.length,t),i=e.length,a=0;a<i;++a)r[a]=e[a];return r}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&void 0!==e.shape){var r=e.dtype;if(o.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER)r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16";if(r===e.dtype&&function(e,t){for(var r=1,n=t.length-1;n>=0;--n){if(t[n]!==r)return!1;r*=e[n]}return!0}(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=l(this.gl,this.type,this.length,this.usage,e.data,t):this.length=l(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var s=n.malloc(e.size,r),u=a(s,e.shape);i.assign(u,e),this.length=l(this.gl,this.type,this.length,this.usage,t<0?s:s.subarray(0,e.size),t),n.free(s)}}else if(Array.isArray(e)){var c;c=this.type===this.gl.ELEMENT_ARRAY_BUFFER?f(e,"uint16"):f(e,"float32"),this.length=l(this.gl,this.type,this.length,this.usage,t<0?c:c.subarray(0,e.length),t),n.free(c)}else if("object"==typeof e&&"number"==typeof e.length)this.length=l(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},e.exports=function(e,t,r,n){if(r=r||e.ARRAY_BUFFER,n=n||e.DYNAMIC_DRAW,r!==e.ARRAY_BUFFER&&r!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==e.DYNAMIC_DRAW&&n!==e.STATIC_DRAW&&n!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=e.createBuffer(),a=new s(e,r,i,0,n);return a.update(t),a}},7738:e=>{e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},4488:(e,t,r)=>{var n=r(7738);e.exports=function(e){return n[e]}},4807:(e,t,r)=>{"use strict";var n=r(6753);e.exports=function(e,t,r,n){i||(i=e.FRAMEBUFFER_UNSUPPORTED,a=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var l=e.getExtension("WEBGL_draw_buffers");!u&&l&&function(e,t){var r=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(r+1);for(var n=0;n<=r;++n){for(var i=new Array(r),a=0;a<n;++a)i[a]=e.COLOR_ATTACHMENT0+a;for(a=n;a<r;++a)i[a]=e.NONE;u[n]=i}}(e,l);Array.isArray(t)&&(n=r,r=0|t[1],t=0|t[0]);if("number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var f=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>f||r<0||r>f)throw new Error("gl-fbo: Parameters are too large for FBO");var c=1;if("color"in(n=n||{})){if((c=Math.max(0|n.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(c>1){if(!l)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(c>e.getParameter(l.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+c+" draw buffers")}}var h=e.UNSIGNED_BYTE,p=e.getExtension("OES_texture_float");if(n.float&&c>0){if(!p)throw new Error("gl-fbo: Context does not support floating point textures");h=e.FLOAT}else n.preferFloat&&c>0&&p&&(h=e.FLOAT);var d=!0;"depth"in n&&(d=!!n.depth);var E=!1;"stencil"in n&&(E=!!n.stencil);return new g(e,t,r,h,c,d,E,l)};var i,a,o,s,u=null;function l(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function f(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function c(e){switch(e){case i:throw new Error("gl-fbo: Framebuffer unsupported");case a:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function h(e,t,r,i,a,o){if(!i)return null;var s=n(e,t,r,a,i);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,o,e.TEXTURE_2D,s.handle,0),s}function p(e,t,r,n,i){var a=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,n,t,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,a),a}function g(e,t,r,n,i,a,o,s){this.gl=e,this._shape=[0|t,0|r],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var g=0;g<i;++g)this.color[g]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=a,this._useStencil=o;var d=this,E=[0|t,0|r];Object.defineProperties(E,{0:{get:function(){return d._shape[0]},set:function(e){return d.width=e}},1:{get:function(){return d._shape[1]},set:function(e){return d.height=e}}}),this._shapeVector=E,function(e){var t=l(e.gl),r=e.gl,n=e.handle=r.createFramebuffer(),i=e._shape[0],a=e._shape[1],o=e.color.length,s=e._ext,g=e._useStencil,d=e._useDepth,E=e._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var _=0;_<o;++_)e.color[_]=h(r,i,a,E,r.RGBA,r.COLOR_ATTACHMENT0+_);0===o?(e._color_rb=p(r,i,a,r.RGBA4,r.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(u[0])):o>1&&s.drawBuffersWEBGL(u[o]);var y=r.getExtension("WEBGL_depth_texture");y?g?e.depth=h(r,i,a,y.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):d&&(e.depth=h(r,i,a,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):d&&g?e._depth_rb=p(r,i,a,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):d?e._depth_rb=p(r,i,a,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):g&&(e._depth_rb=p(r,i,a,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var m=r.checkFramebufferStatus(r.FRAMEBUFFER);if(m!==r.FRAMEBUFFER_COMPLETE){for(e._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(r.deleteRenderbuffer(e._depth_rb),e._depth_rb=null),_=0;_<e.color.length;++_)e.color[_].dispose(),e.color[_]=null;e._color_rb&&(r.deleteRenderbuffer(e._color_rb),e._color_rb=null),f(r,t),c(m)}f(r,t)}(this)}var d=g.prototype;function E(e,t,r){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==r){var n=e.gl,i=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(t<0||t>i||r<0||r>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=r;for(var a=l(n),o=0;o<e.color.length;++o)e.color[o].shape=e._shape;e._color_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,e._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,e._shape[0],e._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,e.handle);var s=n.checkFramebufferStatus(n.FRAMEBUFFER);s!==n.FRAMEBUFFER_COMPLETE&&(e.dispose(),f(n,a),c(s)),f(n,a)}}Object.defineProperties(d,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],r=0|e[1];return E(this,t,r),[t,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return E(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,E(this,this._shape[0],e),e},enumerable:!1}}),d.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},d.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},4779:(e,t,r)=>{var n=r(8975).sprintf,i=r(4488),a=r(6973),o=r(3583);e.exports=function(e,t,r){"use strict";var s=a(t)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var l=n("Error compiling %s shader %s:\n",u,s),f=n("%s%s",l,e),c=e.split("\n"),h={},p=0;p<c.length;p++){var g=c[p];if(""!==g&&"\0"!==g){var d=parseInt(g.split(":")[2]);if(isNaN(d))throw new Error(n("Could not parse error: %s",g));h[d]=g}}var E=o(t).split("\n");for(p=0;p<E.length;p++)if(h[p+3]||h[p+2]||h[p+1]){var _=E[p];if(l+=_+"\n",h[p+1]){var y=h[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),l+=n("^^^ %s\n\n",y)}}return{long:l.trim(),short:f.trim()}}},8057:(e,t,r)=>{"use strict";var n=r(2985),i=r(6552),a=r(9397),o=r(8273),s=r(7175),u=r(9306);function l(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=l.prototype;function c(e,t){return e.name<t.name?-1:1}f.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(t>r)for(e=r;e<t;e++)this.gl.enableVertexAttribArray(e);else if(r>t)for(e=t;e<r;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},f.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(e,t,r,l){if(!t||1===arguments.length){var f=e;e=f.vertex,t=f.fragment,r=f.uniforms,l=f.attributes}var h=this,p=h.gl,g=h._vref;h._vref=o.shader(p,p.VERTEX_SHADER,e),g&&g.dispose(),h.vertShader=h._vref.shader;var d=this._fref;if(h._fref=o.shader(p,p.FRAGMENT_SHADER,t),d&&d.dispose(),h.fragShader=h._fref.shader,!r||!l){var E=p.createProgram();if(p.attachShader(E,h.fragShader),p.attachShader(E,h.vertShader),p.linkProgram(E),!p.getProgramParameter(E,p.LINK_STATUS)){var _=p.getProgramInfoLog(E);throw new u(_,"Error linking program:"+_)}r=r||s.uniforms(p,E),l=l||s.attributes(p,E),p.deleteProgram(E)}(l=l.slice()).sort(c);var y,m=[],b=[],v=[];for(y=0;y<l.length;++y){var A=l[y];if(A.type.indexOf("mat")>=0){for(var T=0|A.type.charAt(A.type.length-1),w=new Array(T),S=0;S<T;++S)w[S]=v.length,b.push(A.name+"["+S+"]"),"number"==typeof A.location?v.push(A.location+S):Array.isArray(A.location)&&A.location.length===T&&"number"==typeof A.location[S]?v.push(0|A.location[S]):v.push(-1);m.push({name:A.name,type:A.type,locations:w})}else m.push({name:A.name,type:A.type,locations:[v.length]}),b.push(A.name),"number"==typeof A.location?v.push(0|A.location):v.push(-1)}var R=0;for(y=0;y<v.length;++y)if(v[y]<0){for(;v.indexOf(R)>=0;)R+=1;v[y]=R}var I=new Array(r.length);function x(){h.program=o.program(p,h._vref,h._fref,b,v);for(var e=0;e<r.length;++e)I[e]=p.getUniformLocation(h.program,r[e].name)}x(),h._relink=x,h.types={uniforms:a(r),attributes:a(l)},h.attributes=i(p,h,m,v),Object.defineProperty(h,"uniforms",n(p,h,r,I))},e.exports=function(e,t,r,n,i){var a=new l(e);return a.update(t,r,n,i),a}},9306:e=>{function t(e,t,r){this.shortMessage=t||"",this.longMessage=r||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(r?"\n"+r:""),this.stack=(new Error).stack}t.prototype=new Error,t.prototype.name="GLError",t.prototype.constructor=t,e.exports=t},6552:(e,t,r)=>{"use strict";e.exports=function(e,t,r,i){for(var a={},u=0,l=r.length;u<l;++u){var f=r[u],c=f.name,h=f.type,p=f.locations;switch(h){case"bool":case"int":case"float":o(e,t,p[0],i,1,a,c);break;default:if(h.indexOf("vec")>=0){if((g=h.charCodeAt(h.length-1)-48)<2||g>4)throw new n("","Invalid data type for attribute "+c+": "+h);o(e,t,p[0],i,g,a,c)}else{if(!(h.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+c+": "+h);var g;if((g=h.charCodeAt(h.length-1)-48)<2||g>4)throw new n("","Invalid data type for attribute "+c+": "+h);s(e,t,p,i,g,a,c)}}}return a};var n=r(9306);function i(e,t,r,n,i,a){this._gl=e,this._wrapper=t,this._index=r,this._locations=n,this._dimension=i,this._constFunc=a}var a=i.prototype;function o(e,t,r,n,a,o,s){for(var u=["gl","v"],l=[],f=0;f<a;++f)u.push("x"+f),l.push("x"+f);u.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+l.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var c=Function.apply(null,u),h=new i(e,t,r,n,a,c);Object.defineProperty(o,s,{set:function(t){return e.disableVertexAttribArray(n[r]),c(e,n[r],t),t},get:function(){return h},enumerable:!0})}function s(e,t,r,n,i,a,s){for(var u=new Array(i),l=new Array(i),f=0;f<i;++f)o(e,t,r[f],n,i,u,f),l[f]=u[f];Object.defineProperty(u,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)l[t].location=e[t];else for(t=0;t<i;++t)l[t].location=e+t;return e},get:function(){for(var e=new Array(i),t=0;t<i;++t)e[t]=n[r[t]];return e},enumerable:!0}),u.pointer=function(t,a,o,s){t=t||e.FLOAT,a=!!a,o=o||i*i,s=s||0;for(var u=0;u<i;++u){var l=n[r[u]];e.vertexAttribPointer(l,i,t,a,o,s+u*i),e.enableVertexAttribArray(l)}};var c=new Array(i),h=e["vertexAttrib"+i+"fv"];Object.defineProperty(a,s,{set:function(t){for(var a=0;a<i;++a){var o=n[r[a]];if(e.disableVertexAttribArray(o),Array.isArray(t[0]))h.call(e,o,t[a]);else{for(var s=0;s<i;++s)c[s]=t[i*a+s];h.call(e,o,c)}}return t},get:function(){return u},enumerable:!0})}a.pointer=function(e,t,r,n){var i=this,a=i._gl,o=i._locations[i._index];a.vertexAttribPointer(o,i._dimension,e||a.FLOAT,!!t,r||0,n||0),a.enableVertexAttribArray(o)},a.set=function(e,t,r,n){return this._constFunc(this._locations[this._index],e,t,r,n)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},2985:(e,t,r)=>{"use strict";var n=r(9397),i=r(9306);function a(e){return new Function("y","return function(){return y}")(e)}function o(e,t){for(var r=new Array(e),n=0;n<e;++n)r[n]=t;return r}e.exports=function(e,t,r,s){function u(e,t,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var a;if((a=r.charCodeAt(r.length-1)-48)<2||a>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+a+"fv(locations["+t+"],false,obj"+e+")"}throw new i("","Unknown uniform data type for "+name+": "+r)}if((a=r.charCodeAt(r.length-1)-48)<2||a>4)throw new i("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+a+"fv(locations["+t+"],obj"+e+")";default:throw new i("","Unrecognized data type for vector "+name+": "+r)}}}function l(e,t){if("object"!=typeof t)return[[e,t]];var r=[];for(var n in t){var i=t[n],a=e;parseInt(n)+""===n?a+="["+n+"]":a+="."+n,"object"==typeof i?r.push.apply(r,l(a,i)):r.push([a,i])}return r}function f(t){for(var n=["return function updateProperty(obj){"],i=l("",t),a=0;a<i.length;++a){var o=i[a],f=o[0],c=o[1];s[c]&&n.push(u(f,c,r[c].type))}return n.push("return obj}"),new Function("gl","locations",n.join("\n"))(e,s)}function c(n,u,l){if("object"==typeof l){var c=h(l);Object.defineProperty(n,u,{get:a(c),set:f(l),enumerable:!0,configurable:!1})}else s[l]?Object.defineProperty(n,u,{get:(p=l,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+p+"])}")(e,t,s)),set:f(l),enumerable:!0,configurable:!1}):n[u]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){if((r=e.charCodeAt(e.length-1)-48)<2||r>4)throw new i("","Invalid data type");return"b"===e.charAt(0)?o(r,!1):o(r,0)}if(0===e.indexOf("mat")&&4===e.length){var r;if((r=e.charCodeAt(e.length-1)-48)<2||r>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+e);return o(r*r,0)}throw new i("","Unknown uniform data type for "+name+": "+e)}}(r[l].type);var p}function h(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var r=0;r<e.length;++r)c(t,r,e[r])}else for(var n in t={},e)c(t,n,e[n]);return t}var p=n(r,!0);return{get:a(h(p)),set:f(p),enumerable:!0,configurable:!0}}},9397:e=>{"use strict";e.exports=function(e,t){for(var r={},n=0;n<e.length;++n)for(var i=e[n].name.split("."),a=r,o=0;o<i.length;++o){var s=i[o].split("[");if(s.length>1){s[0]in a||(a[s[0]]=[]),a=a[s[0]];for(var u=1;u<s.length;++u){var l=parseInt(s[u]);u<s.length-1||o<i.length-1?(l in a||(u<s.length-1?a[l]=[]:a[l]={}),a=a[l]):a[l]=t?n:e[n].type}}else o<i.length-1?(s[0]in a||(a[s[0]]={}),a=a[s[0]]):a[s[0]]=t?n:e[n].type}return r}},7175:(e,t)=>{"use strict";t.uniforms=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=[],a=0;a<r;++a){var o=e.getActiveUniform(t,a);if(o){var s=i(e,o.type);if(o.size>1)for(var u=0;u<o.size;++u)n.push({name:o.name.replace("[0]","["+u+"]"),type:s});else n.push({name:o.name,type:s})}}return n},t.attributes=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=[],a=0;a<r;++a){var o=e.getActiveAttrib(t,a);o&&n.push({name:o.name,type:i(e,o.type)})}return n};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},n=null;function i(e,t){if(!n){var i=Object.keys(r);n={};for(var a=0;a<i.length;++a){var o=i[a];n[e[o]]=r[o]}}return n[t]}},8273:(e,t,r)=>{"use strict";t.shader=function(e,t,r){return f(e).getShaderReference(t,r)},t.program=function(e,t,r,n,i){return f(e).getProgram(t,r,n,i)};var n=r(9306),i=r(4779),a=new("undefined"==typeof WeakMap?r(7501):WeakMap),o=0;function s(e,t,r,n,i,a,o){this.id=e,this.src=t,this.type=r,this.shader=n,this.count=a,this.programs=[],this.cache=o}function u(e){this.gl=e,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,r=this.programs,n=0,i=r.length;n<i;++n){var a=e.programs[r[n]];a&&(delete e.programs[n],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var l=u.prototype;function f(e){var t=a.get(e);return t||(t=new u(e),a.set(e,t)),t}l.getShaderReference=function(e,t){var r=this.gl,a=this.shaders[e===r.FRAGMENT_SHADER|0],u=a[t];if(u&&r.isShader(u.shader))u.count+=1;else{var l=function(e,t,r){var a=e.createShader(t);if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(a);try{var s=i(o,r,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new n(o,"Error compiling shader:\n"+o)}throw new n(o,s.short,s.long)}return a}(r,e,t);u=a[t]=new s(o++,t,e,l,[],1,this)}return u},l.getProgram=function(e,t,r,i){var a=[e.id,t.id,r.join(":"),i.join(":")].join("@"),o=this.programs[a];return o&&this.gl.isProgram(o)||(this.programs[a]=o=function(e,t,r,i,a){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,r);for(var s=0;s<i.length;++s)e.bindAttribLocation(o,a[s],i[s]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var u=e.getProgramInfoLog(o);throw new n(u,"Error linking program: "+u)}return o}(this.gl,e.shader,t.shader,r,i),e.programs.push(a),t.programs.push(a)),o}},6753:(e,t,r)=>{"use strict";var n=r(2861),i=r(8897),a=r(316);e.exports=function(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");o||l(e);if("number"==typeof arguments[1])return _(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return _(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1],r=f(t)?t:t.raw;if(r)return y(e,r,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return m(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,s=null,u=null;function l(e){o=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],u=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function f(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var c=function(e,t){i.muls(e,t,255)};function h(e,t,r){var n=e.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(t<0||t>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,r],e.bind(),n.texImage2D(n.TEXTURE_2D,0,e.format,t,r,0,e.format,e.type,null),e._mipLevels=[0],e}function p(e,t,r,n,i,a){this.gl=e,this.handle=t,this.format=i,this.type=a,this._shape=[r,n],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(e){return o.wrapS=e}},{get:function(){return o._wrapT},set:function(e){return o.wrapT=e}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return o._shape[0]},set:function(e){return o.width=e}},{get:function(){return o._shape[1]},set:function(e){return o.height=e}}]),this._shapeVector=u}var g=p.prototype;function d(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function E(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function _(e,t,r,n,i){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||r<0||r>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=E(e);return e.texImage2D(e.TEXTURE_2D,0,n,t,r,0,n,i,null),new p(e,o,t,r,n,i)}function y(e,t,r,n,i,a){var o=E(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,a,t),new p(e,o,r,n,i,a)}function m(e,t){var r=t.dtype,o=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>s||o[1]<0||o[1]>s)throw new Error("gl-texture2d: Invalid texture size");var u=d(o,t.stride.slice()),l=0;"float32"===r?l=e.FLOAT:"float64"===r?(l=e.FLOAT,u=!1,r="float32"):"uint8"===r?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,u=!1,r="uint8");var f,h,g=0;if(2===o.length)g=e.LUMINANCE,o=[o[0],o[1],1],t=n(t.data,o,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==o.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===o[2])g=e.ALPHA;else if(2===o[2])g=e.LUMINANCE_ALPHA;else if(3===o[2])g=e.RGB;else{if(4!==o[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}}l!==e.FLOAT||e.getExtension("OES_texture_float")||(l=e.UNSIGNED_BYTE,u=!1);var _=t.size;if(u)f=0===t.offset&&t.data.length===_?t.data:t.data.subarray(t.offset,t.offset+_);else{var y=[o[2],o[2]*o[0],1];h=a.malloc(_,r);var m=n(h,o,y,0);"float32"!==r&&"float64"!==r||l!==e.UNSIGNED_BYTE?i.assign(m,t):c(m,t),f=h.subarray(0,_)}var b=E(e);return e.texImage2D(e.TEXTURE_2D,0,g,o[0],o[1],0,g,l,f),u||a.free(h),new p(e,b,o[0],o[1],g,l)}Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),u.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),u.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(u.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return h(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return h(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,h(this,this._shape[0],e),e}}}),g.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},g.setPixels=function(e,t,r,o){var s=this.gl;this.bind(),Array.isArray(t)?(o=r,r=0|t[1],t=0|t[0]):(t=t||0,r=r||0),o=o||0;var u=f(e)?e:e.raw;if(u){this._mipLevels.indexOf(o)<0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,u),this._mipLevels.push(o)):s.texSubImage2D(s.TEXTURE_2D,o,t,r,this.format,this.type,u)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>o||r+e.shape[0]>this._shape[0]>>>o||t<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(e,t,r,o,s,u,l,f){var h=f.dtype,p=f.shape.slice();if(p.length<2||p.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var g=0,E=0,_=d(p,f.stride.slice());"float32"===h?g=e.FLOAT:"float64"===h?(g=e.FLOAT,_=!1,h="float32"):"uint8"===h?g=e.UNSIGNED_BYTE:(g=e.UNSIGNED_BYTE,_=!1,h="uint8");if(2===p.length)E=e.LUMINANCE,p=[p[0],p[1],1],f=n(f.data,p,[f.stride[0],f.stride[1],1],f.offset);else{if(3!==p.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===p[2])E=e.ALPHA;else if(2===p[2])E=e.LUMINANCE_ALPHA;else if(3===p[2])E=e.RGB;else{if(4!==p[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");E=e.RGBA}p[2]}E!==e.LUMINANCE&&E!==e.ALPHA||s!==e.LUMINANCE&&s!==e.ALPHA||(E=s);if(E!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=f.size,m=l.indexOf(o)<0;m&&l.push(o);if(g===u&&_)0===f.offset&&f.data.length===y?m?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,u,f.data):e.texSubImage2D(e.TEXTURE_2D,o,t,r,p[0],p[1],s,u,f.data):m?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,u,f.data.subarray(f.offset,f.offset+y)):e.texSubImage2D(e.TEXTURE_2D,o,t,r,p[0],p[1],s,u,f.data.subarray(f.offset,f.offset+y));else{var b;b=u===e.FLOAT?a.mallocFloat32(y):a.mallocUint8(y);var v=n(b,p,[p[2],p[2]*p[0],1]);g===e.FLOAT&&u===e.UNSIGNED_BYTE?c(v,f):i.assign(v,f),m?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,u,b.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,o,t,r,p[0],p[1],s,u,b.subarray(0,y)),u===e.FLOAT?a.freeFloat32(b):a.freeUint8(b)}}(s,t,r,o,this.format,this.type,this._mipLevels,e)}}},9320:e=>{"use strict";e.exports=function(e,t,r){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var n=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var a=r[i];if(a.buffer){var o=a.buffer,s=a.size||4,u=a.type||e.FLOAT,l=!!a.normalized,f=a.stride||0,c=a.offset||0;o.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,u,l,f,c)}else{if("number"==typeof a)e.vertexAttrib1f(i,a);else if(1===a.length)e.vertexAttrib1f(i,a[0]);else if(2===a.length)e.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)e.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}e.disableVertexAttribArray(i)}}for(;i<n;++i)e.disableVertexAttribArray(i)}else{e.bindBuffer(e.ARRAY_BUFFER,null);for(i=0;i<n;++i)e.disableVertexAttribArray(i)}}},5118:(e,t,r)=>{"use strict";var n=r(9320);function i(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},i.prototype.update=function(e,t,r){this._elements=t,this._attributes=e,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(e,t,r){r=r||0;var n=this.gl;this._elements?n.drawElements(e,t,this._elementsType,r):n.drawArrays(e,r,t)},e.exports=function(e){return new i(e)}},5538:(e,t,r)=>{"use strict";var n=r(9320);function i(e,t,r,n,i,a){this.location=e,this.dimension=t,this.a=r,this.b=n,this.c=i,this.d=a}function a(e,t,r){this.gl=e,this._ext=t,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(e,t,r){if(this.bind(),n(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var a=0;a<e.length;++a){var o=e[a];"number"==typeof o?this._attribs.push(new i(a,1,o)):Array.isArray(o)&&this._attribs.push(new i(a,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!t,this._elementsType=r||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(e,t,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(e,t,this._elementsType,r):n.drawArrays(e,r,t)},e.exports=function(e,t){return new a(e,t,t.createVertexArrayOES())}},4324:(e,t,r)=>{"use strict";var n=r(5538),i=r(5118);function a(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}e.exports=function(e,t,r,o){var s,u=e.createVertexArray?new a(e):e.getExtension("OES_vertex_array_object");return(s=u?n(e,u):i(e)).update(t,r,o),s}},6973:(e,t,r)=>{var n=r(9932),i=r(3668);e.exports=function(e){for(var t=Array.isArray(e)?e:n(e),r=0;r<t.length;r++){var a=t[r];if("preprocessor"===a.type){var o=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],u=o[2];return(s?i(u):u).trim()}}}}},8460:(e,t,r)=>{e.exports=function(e){var t,r,c,h=0,p=0,g=u,d=[],E=[],_=1,y=0,m=0,b=!1,v=!1,A="",T=a,w=n;"300 es"===(e=e||{}).version&&(T=s,w=o);var S={},R={};for(h=0;h<T.length;h++)S[T[h]]=!0;for(h=0;h<w.length;h++)R[w[h]]=!0;return function(e){return E=[],null!==e?function(e){h=0,e.toString&&(e=e.toString());var r;A+=e.replace(/\r\n/g,"\n"),c=A.length;for(;t=A[h],h<c;){switch(r=h,g){case 0:h=L();break;case 1:h=C();break;case 2:h=U();break;case 3:h=O();break;case 4:h=F();break;case 11:h=P();break;case 5:h=M();break;case l:h=D();break;case 9:h=N();break;case u:h=x()}if(r!==h)switch(A[r]){case"\n":y=0,++_;break;default:++y}}return p+=h,A=A.slice(h),E}(e):function(e){d.length&&I(d.join(""));return g=10,I("(eof)"),E}()};function I(e){e.length&&E.push({type:f[g],data:e,position:m,line:_,column:y})}function x(){return d=d.length?[]:d,"/"===r&&"*"===t?(m=p+h-1,g=0,r=t,h+1):"/"===r&&"/"===t?(m=p+h-1,g=1,r=t,h+1):"#"===t?(g=2,m=p+h,h):/\s/.test(t)?(g=9,m=p+h,h):(b=/\d/.test(t),v=/[^\w_]/.test(t),m=p+h,g=b?4:v?3:l,h)}function N(){return/[^\s]/g.test(t)?(I(d.join("")),g=u,h):(d.push(t),r=t,h+1)}function U(){return"\r"!==t&&"\n"!==t||"\\"===r?(d.push(t),r=t,h+1):(I(d.join("")),g=u,h)}function C(){return U()}function L(){return"/"===t&&"*"===r?(d.push(t),I(d.join("")),g=u,h+1):(d.push(t),r=t,h+1)}function O(){if("."===r&&/\d/.test(t))return g=5,h;if("/"===r&&"*"===t)return g=0,h;if("/"===r&&"/"===t)return g=1,h;if("."===t&&d.length){for(;B(d););return g=5,h}if(";"===t||")"===t||"("===t){if(d.length)for(;B(d););return I(t),g=u,h+1}var e=2===d.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;B(d););return g=u,h}return d.push(t),r=t,h+1}function B(e){for(var t,r,n=0;;){if(t=i.indexOf(e.slice(0,e.length+n).join("")),r=i[t],-1===t){if(n--+e.length>0)continue;r=e.slice(0,1).join("")}return I(r),m+=r.length,(d=d.slice(r.length)).length}}function P(){return/[^a-fA-F0-9]/.test(t)?(I(d.join("")),g=u,h):(d.push(t),r=t,h+1)}function F(){return"."===t||/[eE]/.test(t)?(d.push(t),g=5,r=t,h+1):"x"===t&&1===d.length&&"0"===d[0]?(g=11,d.push(t),r=t,h+1):/[^\d]/.test(t)?(I(d.join("")),g=u,h):(d.push(t),r=t,h+1)}function M(){return"f"===t&&(d.push(t),r=t,h+=1),/[eE]/.test(t)?(d.push(t),r=t,h+1):("-"!==t&&"+"!==t||!/[eE]/.test(r))&&/[^\d]/.test(t)?(I(d.join("")),g=u,h):(d.push(t),r=t,h+1)}function D(){if(/[^\d\w_]/.test(t)){var e=d.join("");return g=R[e]?8:S[e]?7:6,I(d.join("")),g=u,h}return d.push(t),r=t,h+1}};var n=r(7529),i=r(7679),a=r(2222),o=r(2914),s=r(9537),u=999,l=9999,f=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},9537:(e,t,r)=>{var n=r(2222);n=n.slice().filter((function(e){return!/^(gl\_|texture)/.test(e)})),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},2222:e=>{e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},2914:(e,t,r)=>{var n=r(7529);e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},7529:e=>{e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7679:e=>{e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},9932:(e,t,r)=>{var n=r(8460);e.exports=function(e,t){var r=n(t),i=[];return i=(i=i.concat(r(e))).concat(r(null))}},645:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,f=-7,c=r?i-1:0,h=r?-1:1,p=e[t+c];for(c+=h,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=256*a+e[t+c],c+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+e[t+c],c+=h,f-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=l}return(p?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,f=(1<<l)-1,c=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,g=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=g,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+p]=255&o,p+=g,o/=256,l-=8);e[r+p-g]|=128*d}},6907:e=>{"use strict";e.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},8738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},4476:(e,t,r)=>{"use strict";var n=r(6780)({args:["index","array","scalar"],body:function(e,t,r){r.apply(void 0,e)}});e.exports=function(e,t){return n(e,t),e}},8897:(e,t,r)=>{"use strict";var n=r(6239),i={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function o(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return n({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var r=s[e];t[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var r=u[e];t[e]=o({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:e}),t[e+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in l){var r=l[e];t[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<f.length;++e){var r=f[e];t[r]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),t[r+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var c=["max","min","atan2","pow"];!function(){for(var e=0;e<c.length;++e){var r=c[e];t[r]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),t[r+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),t[r+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),t[r+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var r=h[e];t[r+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),t[r+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),t[r+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),t[r+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),t.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},2861:(e,t,r)=>{var n=r(6907),i=r(8738),a="undefined"!=typeof Float64Array;function o(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(o);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t){a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",a)(l[e][0])}a=["'use strict'"];var o=n(t),u=o.map((function(e){return"i"+e})),f="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),c=o.map((function(e){return"b"+e})).join(","),h=o.map((function(e){return"c"+e})).join(",");a.push("function "+r+"(a,"+c+","+h+",d){this.data=a","this.shape=["+c+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?a.push("return this.data.set("+f+",v)}"):a.push("return this.data["+f+"]=v}"),a.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?a.push("return this.data.get("+f+")}"):a.push("return this.data["+f+"]}"),a.push("proto.index=function "+r+"_index(",u.join(),"){return "+f+"}"),a.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var p=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),g=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));a.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+g.join(","));for(var d=0;d<t;++d)a.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(d=0;d<t;++d)a.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var E=new Array(t),_=new Array(t);for(d=0;d<t;++d)E[d]="a[i"+d+"]",_[d]="b[i"+d+"]";a.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+E.join(",")+","+_.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(d=0;d<t;++d)a.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(l[e],s)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=function(e,t,r,n){if(void 0===e)return(0,l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var o=t.length;if(void 0===r){r=new Array(o);for(var s=o-1,f=1;s>=0;--s)r[s]=f,f*=t[s]}if(void 0===n){n=0;for(s=0;s<o;++s)r[s]<0&&(n-=(t[s]-1)*r[s])}for(var c=function(e){if(i(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),h=l[c];h.length<=o+1;)h.push(u(c,h.length-1));return(0,h[o+1])(e,t,r,n)}},7066:(e,t,r)=>{"use strict";
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var n=r(6464);e.exports=function(e,t,r){return n(r=void 0!==r?r+"":" ",t)+e}},6464:e=>{"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var t,r="";e.exports=function(e,n){if("string"!=typeof e)throw new TypeError("expected a string");if(1===n)return e;if(2===n)return e+e;var i=e.length*n;if(t!==e||void 0===t)t=e,r="";else if(r.length>=i)return r.substr(0,i);for(;i>r.length&&n>1;)1&n&&(r+=e),n>>=1,e+=e;return r=(r+=e).substr(0,i)}},8975:function(e,t){!function(e){var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}n.format=function(e,t){var a,o,s,u,l,f,c,h,p=1,g=e.length,d="",E=[],_=!0,y="";for(o=0;o<g;o++)if("string"===(d=i(e[o])))E[E.length]=e[o];else if("array"===d){if((u=e[o])[2])for(a=t[p],s=0;s<u[2].length;s++){if(!a.hasOwnProperty(u[2][s]))throw new Error(n("[sprintf] property '%s' does not exist",u[2][s]));a=a[u[2][s]]}else a=u[1]?t[u[1]]:t[p++];if("function"==i(a)&&(a=a()),r.not_string.test(u[8])&&r.not_json.test(u[8])&&"number"!=i(a)&&isNaN(a))throw new TypeError(n("[sprintf] expecting number but found %s",i(a)));switch(r.number.test(u[8])&&(_=a>=0),u[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,u[6]?parseInt(u[6]):0);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"g":a=u[7]?parseFloat(a).toPrecision(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}r.json.test(u[8])?E[E.length]=a:(!r.number.test(u[8])||_&&!u[3]?y="":(y=_?"+":"-",a=a.toString().replace(r.sign,"")),f=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",c=u[6]-(y+a).length,l=u[6]&&c>0?(h=f,Array(c+1).join(h)):"",E[E.length]=u[5]?y+a+l:"0"===f?y+l+a:l+y+a)}return E.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],a=0;t;){if(null!==(n=r.text.exec(t)))i[i.length]=n[0];else if(null!==(n=r.modulo.exec(t)))i[i.length]="%";else{if(null===(n=r.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var o=[],s=n[2],u=[];if(null===(u=r.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=u[1];""!==(s=s.substring(u[0].length));)if(null!==(u=r.key_access.exec(s)))o[o.length]=u[1];else{if(null===(u=r.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=u[1]}n[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=n}t=t.substring(n[0].length)}return i};function i(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}t.sprintf=n,t.vsprintf=function(e,t,r){return(r=(t||[]).slice(0)).splice(0,0,e),n.apply(null,r)}}("undefined"==typeof window||window)},316:(e,t,r)=>{"use strict";var n=r(746),i=r(6841),a=r(8764).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,l=r.g.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=i([32,0])),l.BIGUINT64||(l.BIGUINT64=i([32,0])),l.BIGINT64||(l.BIGINT64=i([32,0])),l.BUFFER||(l.BUFFER=i([32,0]));var f=l.DATA,c=l.BUFFER;function h(e){if(e){var t=e.length||e.byteLength,r=n.log2(t);f[r].push(e)}}function p(e){e=n.nextPow2(e);var t=n.log2(e),r=f[t];return r.length>0?r.pop():new ArrayBuffer(e)}function g(e){return new Uint8Array(p(e),0,e)}function d(e){return new Uint16Array(p(2*e),0,e)}function E(e){return new Uint32Array(p(4*e),0,e)}function _(e){return new Int8Array(p(e),0,e)}function y(e){return new Int16Array(p(2*e),0,e)}function m(e){return new Int32Array(p(4*e),0,e)}function b(e){return new Float32Array(p(4*e),0,e)}function v(e){return new Float64Array(p(8*e),0,e)}function A(e){return o?new Uint8ClampedArray(p(e),0,e):g(e)}function T(e){return s?new BigUint64Array(p(8*e),0,e):null}function w(e){return u?new BigInt64Array(p(8*e),0,e):null}function S(e){return new DataView(p(e),0,e)}function R(e){e=n.nextPow2(e);var t=n.log2(e),r=c[t];return r.length>0?r.pop():new a(e)}t.free=function(e){if(a.isBuffer(e))c[n.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|n.log2(t);f[r].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){h(e.buffer)},t.freeArrayBuffer=h,t.freeBuffer=function(e){c[n.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return p(e);switch(t){case"uint8":return g(e);case"uint16":return d(e);case"uint32":return E(e);case"int8":return _(e);case"int16":return y(e);case"int32":return m(e);case"float":case"float32":return b(e);case"double":case"float64":return v(e);case"uint8_clamped":return A(e);case"bigint64":return w(e);case"biguint64":return T(e);case"buffer":return R(e);case"data":case"dataview":return S(e);default:return null}return null},t.mallocArrayBuffer=p,t.mallocUint8=g,t.mallocUint16=d,t.mallocUint32=E,t.mallocInt8=_,t.mallocInt16=y,t.mallocInt32=m,t.mallocFloat32=t.mallocFloat=b,t.mallocFloat64=t.mallocDouble=v,t.mallocUint8Clamped=A,t.mallocBigUint64=T,t.mallocBigInt64=w,t.mallocDataView=S,t.mallocBuffer=R,t.clearCache=function(){for(var e=0;e<32;++e)l.UINT8[e].length=0,l.UINT16[e].length=0,l.UINT32[e].length=0,l.INT8[e].length=0,l.INT16[e].length=0,l.INT32[e].length=0,l.FLOAT[e].length=0,l.DOUBLE[e].length=0,l.BIGUINT64[e].length=0,l.BIGINT64[e].length=0,l.UINT8C[e].length=0,f[e].length=0,c[e].length=0}},8706:e=>{"use strict";e.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],o=1;o<n;++o)if(a=i,t(i=e[o],a)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,(n=e[a])!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}(e))}},277:e=>{!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=E);var t=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,i=Object.freeze({});if(n.set(i,1),1===n.get(i))return void(e.exports=WeakMap);t=!0}}Object.prototype.hasOwnProperty;var a=Object.getOwnPropertyNames,o=Object.defineProperty,s=Object.isExtensible,u="weakmap:",l="weakmap:ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var f=new ArrayBuffer(25),c=new Uint8Array(f);crypto.getRandomValues(c),l="weakmap:rand:"+Array.prototype.map.call(c,(function(e){return(e%36).toString(36)})).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(e){return a(e).filter(_)}}),"getPropertyNames"in Object){var h=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(e){return h(e).filter(_)}})}!function(){var e=Object.freeze;o(Object,"freeze",{value:function(t){return y(t),e(t)}});var t=Object.seal;o(Object,"seal",{value:function(e){return y(e),t(e)}});var r=Object.preventExtensions;o(Object,"preventExtensions",{value:function(e){return y(e),r(e)}})}();var p=!1,g=0,d=function(){this instanceof d||b();var e=[],t=[],r=g++;return Object.create(d.prototype,{get___:{value:m((function(n,i){var a,o=y(n);return o?r in o?o[r]:i:(a=e.indexOf(n))>=0?t[a]:i}))},has___:{value:m((function(t){var n=y(t);return n?r in n:e.indexOf(t)>=0}))},set___:{value:m((function(n,i){var a,o=y(n);return o?o[r]=i:(a=e.indexOf(n))>=0?t[a]=i:(a=e.length,t[a]=i,e[a]=n),this}))},delete___:{value:m((function(n){var i,a,o=y(n);return o?r in o&&delete o[r]:!((i=e.indexOf(n))<0)&&(a=e.length-1,e[i]=void 0,t[i]=t[a],e[i]=e[a],e.length=a,t.length=a,!0)}))}})};d.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof r?function(){function n(){this instanceof d||b();var e,n=new r,i=void 0,a=!1;return e=t?function(e,t){return n.set(e,t),n.has(e)||(i||(i=new d),i.set(e,t)),this}:function(e,t){if(a)try{n.set(e,t)}catch(r){i||(i=new d),i.set___(e,t)}else n.set(e,t);return this},Object.create(d.prototype,{get___:{value:m((function(e,t){return i?n.has(e)?n.get(e):i.get___(e,t):n.get(e,t)}))},has___:{value:m((function(e){return n.has(e)||!!i&&i.has___(e)}))},set___:{value:m(e)},delete___:{value:m((function(e){var t=!!n.delete(e);return i&&i.delete___(e)||t}))},permitHostObjects___:{value:m((function(e){if(e!==E)throw new Error("bogus call to permitHostObjects___");a=!0}))}})}t&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=d.prototype,e.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=d)}function E(e){e.permitHostObjects___&&e.permitHostObjects___(E)}function _(e){return!(e.substr(0,u.length)==u&&"___"===e.substr(e.length-3))}function y(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[l];if(t&&t.key===e)return t;if(s(e)){t={key:e};try{return o(e,l,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function m(e){return e.prototype=null,Object.freeze(e)}function b(){p||"undefined"==typeof console||(p=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},3755:(e,t,r)=>{var n=r(5748);e.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var r=t.valueOf(e);return r&&r.identity===e?r:n(t,e)}}},5748:e=>{e.exports=function(e,t){var r={identity:t},n=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?n.apply(this,arguments):r},writable:!0}),r}},7501:(e,t,r)=>{var n=r(3755);e.exports=function(){var e=n();return{get:function(t,r){var n=e(t);return n.hasOwnProperty("value")?n.value:r},set:function(t,r){return e(t).value=r,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>g});var e=r(4807),t=r.n(e),i=r(8057),a=r.n(i),o=r(2861),s=r.n(o),u=r(4476),l=r.n(u),f=r(6397),c=r.n(f);function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(){function e(t){var r=t.bufferSize,n=void 0===r?1024:r,i=t.initialProbability,a=void 0===i?.7:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"gl",null),p(this,"bufferSize",void 0),p(this,"updateShader",void 0),p(this,"state",[]),p(this,"current",0),p(this,"pixels",null),p(this,"initialProbability",void 0),this.initialProbability=a;var o=document.createElement("canvas");this.gl=o.getContext("webgl")||o.getContext("experimental-webgl"),this.bufferSize=n,this.init()}var r,n,i;return r=e,(n=[{key:"init",value:function(){var e,r,n=this;if(this.gl){this.gl.disable(this.gl.DEPTH_TEST),this.updateShader=a()(this.gl,{vertex:"\n        attribute vec2 position; \n        varying vec2 uv; \n        void main() { \n            gl_Position = vec4(position,0.0,1.0); \n            uv = 0.5 * (position+1.0); \n        }\n        ",fragment:'\n          precision mediump float;\n          uniform sampler2D buffer;\n          uniform vec2 dims;\n          varying vec2 uv;\n\n          int getPix(float x, float y) {\n              return int(texture2D(buffer, (uv + vec2(x, y)/dims)).r);\n          }\n\n          void main() {\n            //count the "living" neighbour texels\n            int sum = getPix(-1., -1.) +\n                      getPix(-1.,  0.) +\n                      getPix(-1.,  1.) +\n                      getPix( 0., -1.) +\n                      getPix( 0.,  1.) +\n                      getPix( 1., -1.) +\n                      getPix( 1.,  0.) +\n                      getPix( 1.,  1.);\n\n            if (sum == 3)\n            {\n                gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n            }\n            else if (sum == 2)\n            {\n                float current = float(getPix(0., 0.));\n                gl_FragColor = vec4(current, current, current, 1.0);\n            }\n            else\n            {\n                gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n            }\n          }\n        '}),this.state=[t()(this.gl,[this.bufferSize,this.bufferSize]),t()(this.gl,[this.bufferSize,this.bufferSize])];var i=s()(new Uint8Array(this.bufferSize*this.bufferSize*4),[this.bufferSize,this.bufferSize,4]);l()(i,(function(e,t,r){return 0===r?Math.random()>=n.initialProbability?255:0:255})),null===(e=this.state[0])||void 0===e||null===(r=e.color[0])||void 0===r||r.setPixels(i)}}},{key:"update",value:function(){if(this.gl){var e=this.state[this.current];return this.state[this.current^=1].bind(),this.updateShader.bind(),this.updateShader.uniforms.buffer=e.color[0].bind(),this.updateShader.uniforms.dims=e.shape,c()(this.gl),this.pixels=new Uint8Array(this.bufferSize*this.bufferSize*4),this.gl.readPixels(0,0,this.bufferSize,this.bufferSize,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.pixels),this.pixels.filter((function(e,t){return 0===t||t%4==0})).map((function(e){return 255===e?1:0}))}}}])&&h(r.prototype,n),i&&h(r,i),e}()})(),n})()}));
//# sourceMappingURL=index.js.map